<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>RSI: crc.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">RSI
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.1.2 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">crc.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>CRC and Checksum calculation for RSI protocol. Contains function implementation for CRC and Checksum calculation for RSI protocol. These functions performs Initialization of CRC table, Validation of CRC for given RSI Frame, Checksum calculation for given data and CRC calculation for given data is obtained from AD-series RSI Serial RS-485 Protocol Specifications ver-4.0.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="crc_8h_source.html">crc.h</a>&quot;</code><br/>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a5a735798e6972adc694a5428dd7ccaf9"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a5a735798e6972adc694a5428dd7ccaf9"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="crc_8c.html#a5a735798e6972adc694a5428dd7ccaf9">crcInit</a> (void)</td></tr>
<tr class="memdesc:a5a735798e6972adc694a5428dd7ccaf9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes the CRC module with CRC. <br/></td></tr>
<tr class="memitem:a7d0b87f56ca9041ad34c15ec1c0c408c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="commonTypes_8h.html#a6198d447c788bec2c9e297e0c94d93f9">uInt8_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="crc_8c.html#a7d0b87f56ca9041ad34c15ec1c0c408c">calculateChecksum</a> (<a class="el" href="commonTypes_8h.html#a6198d447c788bec2c9e297e0c94d93f9">uInt8_t</a> *rsiFrame, <a class="el" href="commonTypes_8h.html#a0adf7b4789ee82df2f5fc873c9d7370d">sInt32_t</a> frameLength)</td></tr>
<tr class="memdesc:a7d0b87f56ca9041ad34c15ec1c0c408c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculates checksum of received RSI.  <a href="#a7d0b87f56ca9041ad34c15ec1c0c408c"></a><br/></td></tr>
<tr class="memitem:ad62dec57b5542c8e064117212eb5f877"><td class="memItemLeft" align="right" valign="top"><a class="el" href="commonTypes_8h.html#a0adf7b4789ee82df2f5fc873c9d7370d">sInt32_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="crc_8c.html#ad62dec57b5542c8e064117212eb5f877">calculateCrc</a> (<a class="el" href="commonTypes_8h.html#a6198d447c788bec2c9e297e0c94d93f9">uInt8_t</a> *rsiFrame, <a class="el" href="commonTypes_8h.html#a0adf7b4789ee82df2f5fc873c9d7370d">sInt32_t</a> frameLength, <a class="el" href="commonTypes_8h.html#a6198d447c788bec2c9e297e0c94d93f9">uInt8_t</a> *crcVal)</td></tr>
<tr class="memdesc:ad62dec57b5542c8e064117212eb5f877"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculates CRC of received RSI frame.  <a href="#ad62dec57b5542c8e064117212eb5f877"></a><br/></td></tr>
<tr class="memitem:af7c4e97024983913f5ccb6734ca3b8fd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="crc_8c.html#af7c4e97024983913f5ccb6734ca3b8fd">printTable</a> (void)</td></tr>
<tr class="memdesc:af7c4e97024983913f5ccb6734ca3b8fd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Print the global table of CRC if CRC_DEBUG.  <a href="#af7c4e97024983913f5ccb6734ca3b8fd"></a><br/></td></tr>
<tr class="memitem:a7d9da6dd3b7929f69102bd4dd878596e"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a7d9da6dd3b7929f69102bd4dd878596e"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="crc_8c.html#a7d9da6dd3b7929f69102bd4dd878596e">buildXmodem</a> (void)</td></tr>
<tr class="memdesc:a7d9da6dd3b7929f69102bd4dd878596e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes the CRC table at run-time. <br/></td></tr>
<tr class="memitem:a6409a36f9a696205b7d7cc12957832bd"><td class="memItemLeft" align="right" valign="top"><a class="el" href="commonTypes_8h.html#a39ff2b8530b8753c031c9daa9ef80a8f">uInt16_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="crc_8c.html#a6409a36f9a696205b7d7cc12957832bd">xmodemCrc</a> (<a class="el" href="commonTypes_8h.html#a6198d447c788bec2c9e297e0c94d93f9">uInt8_t</a> byteVal, <a class="el" href="commonTypes_8h.html#a39ff2b8530b8753c031c9daa9ef80a8f">uInt16_t</a> tempCrc)</td></tr>
<tr class="memdesc:a6409a36f9a696205b7d7cc12957832bd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Update the CRC value with a new byte.  <a href="#a6409a36f9a696205b7d7cc12957832bd"></a><br/></td></tr>
<tr class="memitem:a81ca39a8756f3b3c3d3181ffc5f5abda"><td class="memItemLeft" align="right" valign="top"><a class="el" href="commonTypes_8h.html#a39ff2b8530b8753c031c9daa9ef80a8f">uInt16_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="crc_8c.html#a81ca39a8756f3b3c3d3181ffc5f5abda">calculateCrcBuf</a> (<a class="el" href="commonTypes_8h.html#a6198d447c788bec2c9e297e0c94d93f9">uInt8_t</a> *crcBuf, <a class="el" href="commonTypes_8h.html#a0adf7b4789ee82df2f5fc873c9d7370d">sInt32_t</a> bufLength, <a class="el" href="commonTypes_8h.html#a39ff2b8530b8753c031c9daa9ef80a8f">uInt16_t</a> tempCrc)</td></tr>
<tr class="memdesc:a81ca39a8756f3b3c3d3181ffc5f5abda"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculate the CRC of a received character buffer.  <a href="#a81ca39a8756f3b3c3d3181ffc5f5abda"></a><br/></td></tr>
</table>
<a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>CRC and Checksum calculation for RSI protocol. Contains function implementation for CRC and Checksum calculation for RSI protocol. These functions performs Initialization of CRC table, Validation of CRC for given RSI Frame, Checksum calculation for given data and CRC calculation for given data is obtained from AD-series RSI Serial RS-485 Protocol Specifications ver-4.0. </p>
<dl class="section author"><dt>Author</dt><dd>Allegion Staff </dd></dl>
<dl class="section version"><dt>Version</dt><dd>0.1 </dd></dl>
<dl class="section date"><dt>Date</dt><dd>? </dd></dl>
</div><h2>Function Documentation</h2>
<a class="anchor" id="a7d0b87f56ca9041ad34c15ec1c0c408c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="commonTypes_8h.html#a6198d447c788bec2c9e297e0c94d93f9">uInt8_t</a> calculateChecksum </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="commonTypes_8h.html#a6198d447c788bec2c9e297e0c94d93f9">uInt8_t</a> *&#160;</td>
          <td class="paramname"><em>rsiFrame</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="commonTypes_8h.html#a0adf7b4789ee82df2f5fc873c9d7370d">sInt32_t</a>&#160;</td>
          <td class="paramname"><em>frameLength</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculates checksum of received RSI. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">rsiFrame</td><td>Pointer to RSI frame not including SOF </td></tr>
    <tr><td class="paramname">frameLength</td><td>Length of frame not including SOF</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Calculated checksum value (on success) </dd></dl>
<dl class="section note"><dt>Note</dt><dd>This function should only be called after receiving RSI frame </dd></dl>

</div>
</div>
<a class="anchor" id="ad62dec57b5542c8e064117212eb5f877"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="commonTypes_8h.html#a0adf7b4789ee82df2f5fc873c9d7370d">sInt32_t</a> calculateCrc </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="commonTypes_8h.html#a6198d447c788bec2c9e297e0c94d93f9">uInt8_t</a> *&#160;</td>
          <td class="paramname"><em>rsiFrame</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="commonTypes_8h.html#a0adf7b4789ee82df2f5fc873c9d7370d">sInt32_t</a>&#160;</td>
          <td class="paramname"><em>frameLength</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="commonTypes_8h.html#a6198d447c788bec2c9e297e0c94d93f9">uInt8_t</a> *&#160;</td>
          <td class="paramname"><em>crcVal</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculates CRC of received RSI frame. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">rsiFrame</td><td>Pointer to RSI frame not including SOF </td></tr>
    <tr><td class="paramname">frameLength</td><td>Length of RSI frame not including SOF </td></tr>
    <tr><td class="paramname">crcVal</td><td>Pointer to CRC value result</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>STATUS_SUCCESS/STATUS_FAILURE </dd></dl>
<dl class="section note"><dt>Note</dt><dd>This function should only be called after receiving RSI frame. </dd></dl>

</div>
</div>
<a class="anchor" id="a81ca39a8756f3b3c3d3181ffc5f5abda"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="commonTypes_8h.html#a39ff2b8530b8753c031c9daa9ef80a8f">uInt16_t</a> calculateCrcBuf </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="commonTypes_8h.html#a6198d447c788bec2c9e297e0c94d93f9">uInt8_t</a> *&#160;</td>
          <td class="paramname"><em>crcBuf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="commonTypes_8h.html#a0adf7b4789ee82df2f5fc873c9d7370d">sInt32_t</a>&#160;</td>
          <td class="paramname"><em>bufLength</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="commonTypes_8h.html#a39ff2b8530b8753c031c9daa9ef80a8f">uInt16_t</a>&#160;</td>
          <td class="paramname"><em>tempCrc</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculate the CRC of a received character buffer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">crcBuf</td><td>Pointer to CRC buffer </td></tr>
    <tr><td class="paramname">bufLength</td><td>Length of frame received </td></tr>
    <tr><td class="paramname">tempCrc</td><td>Temporary CRC value</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Calculated CRC value of buffer </dd></dl>

</div>
</div>
<a class="anchor" id="af7c4e97024983913f5ccb6734ca3b8fd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void printTable </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Print the global table of CRC if CRC_DEBUG. </p>
<dl class="section note"><dt>Note</dt><dd>- Global CRC table is initialized.<ul>
<li>CRC_DEBUG macro defined </li>
</ul>
</dd></dl>

</div>
</div>
<a class="anchor" id="a6409a36f9a696205b7d7cc12957832bd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="commonTypes_8h.html#a39ff2b8530b8753c031c9daa9ef80a8f">uInt16_t</a> xmodemCrc </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="commonTypes_8h.html#a6198d447c788bec2c9e297e0c94d93f9">uInt8_t</a>&#160;</td>
          <td class="paramname"><em>byteVal</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="commonTypes_8h.html#a39ff2b8530b8753c031c9daa9ef80a8f">uInt16_t</a>&#160;</td>
          <td class="paramname"><em>tempCrc</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Update the CRC value with a new byte. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">byteVal</td><td>Value accounted as byte </td></tr>
    <tr><td class="paramname">tempCrc</td><td>Temporary CRC value</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Calculated value of tempCrc </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Aug 7 2014 13:24:26 for RSI by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.1.2
</small></address>
</body>
</html>
